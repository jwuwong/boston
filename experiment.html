<!DOCTYPE html>
<html>

<head>
    <title>Singlish Experiment</title>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugin-html-keyboard-response.js"></script>
    <script src="jspsych/plugin-html-button-response.js"></script>
    <script src="jspsych/jspsych-psychophysics.js"></script>
    <link href="css/experiment.css" rel="stylesheet" type="text/css" />
</head>

<body></body>
<script>
    /* initialize jsPsych */
    var jsPsych = initJsPsych({
            show_progress_bar: true
        });

    /* create timeline */
    var timeline = [];

    var instructions = {
            type: jsPsychHtmlButtonResponse,
            stimulus: `
        <div class="text" id="instruction">
            <img src="./images/stanford_logo.png" alt="stanford logo" width="180" height="80">
            <p>Welcome! In this experiment, you will be listening to pairs of audio clips.</p>
            <p>Each pair of audio clips will be played once in consecutive order. Your task is to decide which one of the clips sounds more Singlish.</p>
            <p>Please ensure that you use earphones or headphones for the duration of this experiment.</p>
            <p>The experiment will take approximately 40 minutes and you will compensated for your time.</p>
        </div>
      `,
            choices: ["Continue"],
            button_html: `<button class="continue-btn">%choice%</button>`,
        };

    /* define welcome message trial */
    var legalInfo = {
            type: jsPsychHtmlButtonResponse,
            stimulus:    `
        <div class="text" id="irb">
            
                <h3>Nonmedical Human Participants Consent Form and Waiver of Documentation</h3>
                <p>
                    <strong>STUDY TITLE:</strong> Language Production and Comprehension Studies
                </p>
                <p><strong>PROTOCOL DIRECTOR:</strong> Meghan Sumner</p>
                <p>		
                    <strong>DESCRIPTION:</strong> We invite you to participate in a research study on language production and comprehension. In this experiment, you will complete a linguistic task online such as reading sentences or words, naming pictures or describing scenes, making up sentences of your own, or participating in a simple language game.
                    </p>
                <p>		
                    <strong>RISKS AND BENEFITS:</strong> There are no known risks, costs, or discomforts in this study and this judgment is based on a large body of experience with the same or similar procedures with people of similar ages, sex, origins, etc. We cannot and do not guarantee or promise that you will receive any benefits from this study. You will help us to understand how people recognize and perceive auditory stimuli.
                </p>	
                <p>	
                    <strong>TIME INVOLVEMENT:</strong> Your participation in this experiment will take less than one hour.
                </p>
                <p>	
                    <strong>PAYMENTS:</strong> You will be paid for your participation at the posted rate, consisted with online payment standards.
                    </p>
                <p>		
                    <strong>SUBJECT'S RIGHTS:</strong> If you have read this form and have decided to participate in this project, please understand your participation is voluntary and you have the right to withdraw your consent or discontinue participation at any time without penalty or loss of benefits to which you are otherwise entitled. You have the right to refuse to answer particular questions. Your individual privacy will be maintained in all published and written data resulting from the study.
                </p>
                <p>			
                    <strong>CONTACT INFORMATION:</strong><BR>
                    Questions, Concerns, or Complaints: If you have any questions, concerns or complaints about this research study, its procedures, risks and benefits, please contact Prof. Meghan Sumner at (650) 723-4284.
                </p>	
                <p>
                    Independent Contact: If you are not satisfied with how this study is being conducted, or if you have any concerns, complaints, or general questions about the research or your rights as a participant, please contact the Stanford Institutional Review Board (IRB) to speak to someone independent of the research team at (650)-723-2480 or toll free at 1-866-680-2906. You can also write to the Stanford IRB, Stanford University, Stanford, CA 94305-5401 or email irbnonmed@stanford.edu.
                </p>	
                <p>	
                    <strong>WAIVER OF DOCUMENTATION:</strong><BR>
                    If you agree to participate in this research, please continue to begin the study. 
                </p>	
                <p style="font-size: 80%">
                Approval Date: June, 30, 2021<BR>
                Expiration Date: Does Not Expire
                </p>
                
        </div>
      `, 
        choices: ["Continue"],
        button_html: `<button class="continue-btn">%choice%</button>`,
        };

    /* sound check */
    var soundcheck = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
        <div class="text" id="instruction">
        <p>Please press the spacebar to hear what word to type in the box.</p>
        <p>Continue button should only appear if the word typed in is correct. YL will cut a single clip. Maybe use psychophsyics plugin??</p>
        </div>
        `,
        choices: ["Continue"],
        button_html: `<button class="continue-btn">%choice%</button>`,
        };

    /* practice trial instructions*/
    var practice1Instructions = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
        <div class="text" id="instruction">
        <p>You will now start two practice trials.</p>
        <p>On the next page, two audio clips will play consecutively. Each audio clip will only play once and you will not be able to replay them.</p>
        <p>Please place your left index finger on the <strong>S</strong> key and your right index finger on the <strong>L</strong> key.</p>
        <p>If the first clip sounds more Singlish, please 
        <p>Something about pressing <strong>S</strong> for the first clip and <strong>L</strong> for the second clip.</p>
        </div>
        `,
        choices: ["Continue"],
        button_html: `<button class="continue-btn">%choice%</button>`,
        };

    /* practice trial*/
    var practice1 = {
        type: jsPsychHtmlButtonResponse,
        stimulus: `
        <div class="text" id="instruction">
        <p>play two clips</p>
        </div>
        `,
        };
    
    timeline.push(instructions);
    timeline.push(legalInfo);
    timeline.push(soundcheck);
    timeline.push(practice1Instructions);
    timeline.push(practice1);

    /* start the experiment */
    jsPsych.run(timeline);

</script>

</html>